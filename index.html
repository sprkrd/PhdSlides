<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>New Methods for Bridging Symbolic-Geometric Reasoning, Addressing Uncertainty and Action Learning in Task Planning for Robotics</title>

    <!--<link rel="stylesheet" href="reveal.js/dist/reset.css">-->
    <!--<link rel="stylesheet" href="reveal.js/dist/reveal.css">-->
    <!--<link rel="stylesheet" href="reveal.js/dist/theme/white.css" id="theme">-->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reset.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/theme/white.min.css">

    <!-- Theme used for syntax highlighted code -->
    <!--<link rel="stylesheet" href="reveal.js/plugin/highlight/monokai.css" id="highlight-theme">-->

    <link rel="stylesheet" href="css/custom-style.css">
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <section class="front-page">
          <h3>Ph.D. Dissertation</h3>
          <h1>New Methods for Bridging Symbolic-Geometric Reasoning, Addressing Uncertainty and Action Learning in Task Planning for Robotics</h1>

          <hr/>

          <ul class="authors">
            <li>
              <div class="author">
                <span class="name">Alejandro Suárez Hernández</span>
                <span class="email">asuarez@iri.upc.edu</span>
              </div>
            </li>
          </ul>

          <p>Directed by</p>

          <ul class="authors">
              <li>
                  <div class="author">
                      <span class="name">Carme Torras Genís<sup></sup></span>
                    <span class="email">torras@iri.upc.edu</span>
                  </div>
              </li>
              <li>
                  <div class="author">
                      <span class="name">Guillem Alenyà Ribas<sup></sup></span>
                    <span class="email">galenya@iri.upc.edu</span>
                  </div>
              </li>
          </ul>

          <!--<ol class="affiliations">-->
            <!--<li>Institut de Robòtica i Informàtica Industrial, CSIC-UPC</li>-->
          <!--</ol>-->

          <div class="conference">
            <p class="date">July 25th, 2024</p>
          </div>

          <div class="spaced-horizontally">
              <img src="assets/logos/IRI_logo.svg" height="50px"/>
              <img src="assets/logos/UPC_logo.svg" height="50px"/>
          </div>

        </section>

        <section>
            <h2 class="numbered-section">Motivation</h2>

            <p>Desirable qualities in a robot:</p>

            <ul>
              <li class="fragment">Performance</li>
              <li class="fragment">Robustness</li>
              <li class="fragment">Flexibility</li>
              <li class="fragment">Predictability/Explainability</li>
              <li class="fragment">Low set-up effort</li>
            </ul>
        </section>

        <section>
            <div class="r-stack">
                <img class="r-stretch" src="img/motivation/frame1.svg">
                <img class="r-stretch fragment" src="img/motivation/frame2.svg">
                <img class="r-stretch fragment" src="img/motivation/frame3.svg">
                <img class="r-stretch fragment" src="img/motivation/frame4.svg">
                <img class="r-stretch fragment" src="img/motivation/frame5.svg">
                <img class="r-stretch fragment" src="img/motivation/frame6.svg">
                <img class="r-stretch fragment" src="img/motivation/frame7.svg">
                <img class="r-stretch fragment" src="img/motivation/frame8.svg">
                <img class="r-stretch fragment" src="img/motivation/frame9.svg">
                <img class="r-stretch fragment" src="img/motivation/frame10.svg">
            </div>
        </section>

        <section>
            <h2 class="numbered-section">Objectives</h2>
            <div class="r-stack">
                <img class="r-stretch" src="img/objectives/frame1.svg">
                <img style="z-index:1;position:fixed;top:180px;left:578px" src="img/objectives/lever_example.gif">
                <img style="z-index:1;position:fixed;top:398px;left:275px" class="fragment" src="img/objectives/successful-lever.gif" data-fragment-index="1">
                <img style="z-index:1;position:fixed;top:524px;left:275px" class="fragment" src="img/objectives/unsuccessful-lever.gif" data-fragment-index="1">
                <img class="r-stretch fragment" src="img/objectives/frame2.svg" data-fragment-index="1">
                <img class="r-stretch fragment" src="img/objectives/frame3.svg">
                <img class="r-stretch fragment" src="img/objectives/frame4.svg">
            </div>


        </section>

        <section>
            <h2 class="numbered-section">Contributions</h2>

            <div class="r-hstack" style="justify-content:space-evenly;">
                <figure class="fragment semi-fade-in-out">
                    <img class="" src="img/contributions/first_part.png">
                    <figcaption style="max-width:400px;">New planning algorithms (<strong>O1,O2,O3</strong>)</figcaption>
                </figure>

                <figure class="fragment semi-fade-in-out">
                    <img class="" src="img/contributions/second_part.png">
                    <figcaption style="max-width:400px;">Learning algorithms (<strong>O4</strong>)</figcaption>
                </figure>
            </div>

        </section>

        <section>

            <div class="r-hstack" style="justify-content:space-evenly;">
                <figure class="">
                    <img class="" src="img/contributions/first_part.png">
                    <figcaption style="max-width:400px;">New planning algorithms (<strong>O1,O2,O3</strong>)</figcaption>
                </figure>

                <img class="fragment" src="img/contributions/first_part_detail.svg">
            </div>

        </section>

        <section>

            <div class="r-hstack" style="justify-content:space-evenly;">
                <img class="fragment" src="img/contributions/second_part_detail.svg">

                <figure class="">
                    <img class="" src="img/contributions/second_part.png">
                    <figcaption style="max-width:400px;">Learning algorithms (<strong>O4</strong>)</figcaption>
                </figure>
            </div>

        </section>

        <section>
            <h2 class="numbered-section">Planning and Execution</h2>
            <div class="r-hstack" style="justify-content:space-evenly;">
                <figure>
                    <img class="" src="img/contributions/first_part.png">
                </figure>

                <figure style="opacity:0.3;">
                    <img class="" src="img/contributions/second_part.png">
                </figure>
            </div>
        </section>

        <section>
            <h3 class="numbered-section">Dual-arm Symbolic-motion Planning</h3>

            <div class="r-hstack" style="justify-content:space-evenly;">
              <div>
                <p>We are concerned with tasks...</p>
                <ul>
                    <li class="fragment">... that require symbolic-geometric reasoning (<strong>O1</strong>)</li>
                    <li class="fragment">... with partial observability (<strong>O3</strong>)</li>
                </ul>
              </div>
              <div class="r-vstack">
                <figure class="fragment">
                  <img style="width:400px;" src="img/dual-arm-planning/game-introduction.gif">
                  <figcaption>Example application</figcaption>
                </figure>
                <figure class="fragment">
                  <img style="width:400px;" src="img/dual-arm-planning/picker-and-catcher.png">
                  <figcaption>Robot set-up</figcaption>
                </figure>
              </div>
            </div>
        </section>

        <section>
            <div class="r-hstack" style="justify-content:space-evenly;">
              <figure class="">
                <img style="width:400px;" src="img/dual-arm-planning/example-symbolic.png">
                <figcaption>Symbolic reasoning</figcaption>
              </figure>
              <figure class="fragment">
                <img style="width:400px;" src="img/dual-arm-planning/example-geometric.png">
                <figcaption>Geometric reasoning</figcaption>
              </figure>
              <figure class="fragment">
                <img style="width:400px;" src="img/dual-arm-planning/example-partial-observability.png">
                <figcaption>Partial observability</figcaption>
              </figure>
            </div>
        </section>

        <section>
            <p>First principle: divide goal into tasks. Each task is in turn solved via a <strong>Hierarchical Task Network (HTN)</strong>:</p>
            <img class="r-stretch" src="img/dual-arm-planning/htn.png">
        </section>

        <section>
            <p>Second principle: <strong>handle uncertainty explicitly</strong> and <strong>reshape environment</strong>:</p>
            <div class="r-hstack" style="justify-content:space-evenly;">
              <figure class="">
                <img style="width:400px;" src="img/dual-arm-planning/dispel-noise.png">
                <figcaption>Noise-dispelling action</figcaption>
              </figure>
              <figure class="fragment">
                <img style="width:400px;" src="img/dual-arm-planning/pushing.gif">
                <figcaption>Environment-reshaping action</figcaption>
              </figure>
            </div>
        </section>

        <section>
            <div class="r-hstack" style="justify-content:space-evenly;">
              <figure>
                  <img src="img/dual-arm-planning/quantitative-results.png">
                  <figcaption>Quantitative results (simulation)</figcaption>
              </figure>
              <div class="r-vstack">
                <figure class="fragment">
                  <img style="width:300px;" src="img/dual-arm-planning/algorithm-A-scenario-a.gif">
                  <figcaption>Algorithm A in scenario (a)</figcaption>
                </figure>
                <figure class="fragment">
                  <img style="width:300px;" src="img/dual-arm-planning/algorithm-F-scenario-c.gif">
                  <figcaption>Algorithm F in scenario (c)</figcaption>
                </figure>
              </div>
            </div>
        </section>

        <section>
            <figure>
                <video id="itm-video" loop controls onloadstart="this.playbackRate = 10;">
                    <source data-src="http://www.iri.upc.edu/groups/perception/dual_arm_planning/video/itm_demo_real.mp4" type="video/mp4">
                </video>
                <figcaption>Qualitative experiment</figcaption>
            </figure>
        </section>

        <section>
            <h3 class="numbered-section">Planning in Face of Stochastic Outcomes</h3>
            <div class="r-hstack" style="justify-content:space-evenly;">
              <div>
                <p>We are concerned with tasks...</p>
                <ul>
                    <li class="fragment">... that require reasoning with action stochasticity (<strong>O2</strong>),</li>
                    <li class="fragment">where part of the state may be hidden (<strong>O3</strong>),</li>
                    <li class="fragment">and where classical algorithms are computationlly expensive</li>
                </ul>
              </div>
            <figure class="fragment">
              <img style="width:200px;" src="img/handling-uncertain-outcomes/unscrew.gif">
              <img style="width:200px;" src="img/handling-uncertain-outcomes/remove-pcb.gif">
              <figcaption>Disassembly use case</figcaption>
            </figure>
            </div>
        </section>

        <section>
            <p>State represented as (P)PDDL objects and predicates:</p>
            <img class="r-stretch" src="img/handling-uncertain-outcomes/state.png">
        </section>

        <section>
            <div style="position:relative; top:-100px;">
            <p>Stochastic actions (MDP representation)</p>
            <img style="" src="img/handling-uncertain-outcomes/stochastic-action.png">
            <img style="height:200px;position:fixed;left:184px;top:204px;" src="img/handling-uncertain-outcomes/successful-action.gif">
            <img style="height:200px;position:fixed;left:807px;top:204px;" src="img/handling-uncertain-outcomes/unsuccessful-action.gif">
            </div>
        </section>

        <section>
            <p>First principle: simplify task (subtask selection)</p>
            <img class="r-stretch" src="img/handling-uncertain-outcomes/subtask-selection.png">
        </section>

        <section>
            <p>Second principle: determinization</p>
            <img class="r-stretch" src="img/handling-uncertain-outcomes/determinization.png">
        </section>

        <section>
            <p>Alpha-Cost Transition Likelihood determinization</p>
            <img src="img/handling-uncertain-outcomes/actl.png">
            <img style="width:600px;" src="img/handling-uncertain-outcomes/safety-eagerness.png">
        </section>

        <section>
            <p>Results</p>
            <img src="img/handling-uncertain-outcomes/results.png">
        </section>

        <section>
            <h3 class="numbered-section">Leveraging Simulators to Minimize Risk</h3>
            <div class="r-hstack" style="justify-content:space-evenly;">
              <div>
                <p>We are concerned with...</p>
                <ul>
                    <li class="fragment">... leveraging two environments (learning and target) for safe execution and learning (<strong>O2,O4</strong>).</li>
                    <li class="fragment">... disambiguate between similar actions with physical simulators (<strong>O1</strong>).</li>
                </ul>
              </div>
            <figure class="fragment">
              <img style="width:400px;" src="img/leveraging-simulators/lever-failure1.gif">
              <img style="width:400px;" src="img/leveraging-simulators/lever-failure2.gif">
              <figcaption>Examples of failed lever actions</figcaption>
            </figure>
            </div>
        </section>

        <section>
            <p>Proposed architecture</p>

            <img style="width:400px;" src="img/leveraging-simulators/architecture.png">
            <img style="position:fixed;width:200px;top:450px;left:220px;" src="img/leveraging-simulators/lever-success-sim.gif">
            <img style="position:fixed;width:200px;top:450px;left:810px;" src="img/leveraging-simulators/lever-success.gif">
        </section>

        <section>
            <p>Multiple Environment Noisy Indeterministic Deictic (MENID) rules</p>

            <img src="img/leveraging-simulators/MENID_rules.png">
        </section>

        <section>
            <p>Estimation of categorical distributions</p>
            <ul>
                <li class="">$ ^ix_i $: Number of times event $ j $ has occurred in environment $ i $</li>
                <li class="fragment">$ N_i $: Total number of events</li>
                <li class="fragment">If simulation (environment 2) reflects reality (environment 1) perfectly:$$ ^1p_j \approx \frac{^1x_j + ^2x_j}{N_1 + N_2} $$</li>
            </ul>
        </section>

        <section>
            <ul>
                <li class="">However, that isn't generally the case. We propose:$$^1p_j \approx \frac{^1x_j + \frac{m}{\sqrt{1+N_1}} ^2x_j}{N_1 + \frac{m}{\sqrt{1 + N_1}} N_2}$$</li>
                <figure>
                    <img src="img/leveraging-simulators/sample.png">
                    <figcaption>Approximation of the estimation error based on sample size</figcaption>
                </figure>
            </ul>
        </section>

        <section>
            <p>Algorithm overview</p>

            <p>Video here</p>
        </section>

        <section>
            <p>Influence of model resolution</p>
            <div class="r-hstack">
                <div class="r-vstack" style="">
                    <figure>
                        <img style="width:200px;" src="img/leveraging-simulators/exp1.gif">
                        <figcaption>Lever action</figcaption>
                    </figure>
                    <figure>
                        <img style="width:200px;" src="img/leveraging-simulators/exp2.gif">
                        <figcaption>Shake action</figcaption>
                    </figure>
                    <figure>
                        <img style="width:200px;" src="img/leveraging-simulators/exp3.gif">
                        <figcaption>Suction action</figcaption>
                    </figure>
                </div>
                <figure>
                    <img src="img/leveraging-simulators/model-resolution-plot.png">
                    <figcaption>Effect of model resolution on<br>time and accuracy</figcaption>
                </figure>
            </div>
        </section>

        <section>
            <div class="r-vstack">
                <figure>
                    <img src="img/leveraging-simulators/results-simulation.png">
                    <figcaption>Results low-accuracy simulation $ \rightarrow $ high-accuracy simulation</figcaption>
                </figure>
                <figure>
                    <img src="img/leveraging-simulators/results-robot.png">
                    <figcaption>Results simulation $ \rightarrow $ real robot</figcaption>
                </figure>
            </div>
        </section>

        <section>
            <h2 class="numbered-section">Learning Planning Operators</h2>

            <div class="r-hstack" style="justify-content:space-evenly;">
                <figure style="opacity:0.3;">
                    <img class="" src="img/contributions/first_part.png">
                </figure>

                <figure style="">
                    <img class="" src="img/contributions/second_part.png">
                </figure>
            </div>
        </section>

        <section>
            <h3 class="numbered-section">STRIPS Action Discovery</h3>
        </section>

        <section>
            <h3 class="numbered-section">INtuitive PROgramming</h3>
        </section>

        <section>
            <h3 class="numbered-section">Online Action Recognition through Unification</h3>
        </section>

        <section>
            <h3 class="numbered-section">INtuitive PROgramming 2</h3>
        </section>

        <section>
            <h2 class="numbered-section">Take-aways</h2>
        </section>

      </div>
      <div class="frame bottom"></div>
      <div class="frame top"></div>
      <div class="frame left"></div>
      <div class="frame right"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/notes/notes.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/markdown/markdown.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/math/math.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/zoom/zoom.min.js"></script>

    <!--<script src="reveal.js/dist/reveal.js"></script>-->
    <!--<script src="reveal.js/plugin/notes/notes.js"></script>-->
    <!--<script src="reveal.js/plugin/markdown/markdown.js"></script>-->
    <!--[><script src="reveal.js/plugin/highlight/highlight.js"></script><]-->
    <!--<script src="reveal.js/plugin/math/math.js"></script>-->

    <!-- D3 Graphviz -->
    <!--<script src="https://d3js.org/d3.v5.min.js"></script>-->
    <!--<script src="https://unpkg.com/@hpcc-js/wasm@0.3.11/dist/index.min.js" type="javascript/worker"></script>-->
    <!--<script src="https://unpkg.com/d3-graphviz@3.0.5/build/d3-graphviz.js"></script>-->

    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        autoPlayMedia: true,
        hash: true,
        slideNumber: "c/t",
        margin: 0.08,
        width: 1200,
        controls: true,
        //keyboard: {
        //  84: renderGraph
        //},
        math: {
          mathjax: 'https://cdn.jsdelivr.net/gh/mathjax/mathjax@2.7.8/MathJax.js',
          config: 'TeX-AMS_HTML-full',
        },
        // Learn about plugins: https://revealjs.com/plugins/
        //plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath ]
        plugins: [ RevealMarkdown, RevealZoom, RevealNotes, RevealMath ]
      })
      .then( () => {
        var headerNumber = [0,0,0,0,0,0],
            headers = document.querySelectorAll("h1.numbered-section, h2.numbered-section, h3.numbered-section, h4.numbered-section, h5.numbered-section, h6.numbered-section")
        for (var h of headers) {
          var level = Number(h.tagName[1]) - 1;
          if (!h.classList.contains("dont-increment")) {
            ++headerNumber[level];
            for (var inner_level = level+1; inner_level < 6; ++inner_level)
              headerNumber[inner_level] = 0;
          }
          var spanElement = document.createElement("SPAN");
          var spanText = document.createTextNode(headerNumber.slice(1,level+1).join(".")+". ");
          spanElement.classList.add("numeral");
          spanElement.appendChild(spanText);
          h.insertBefore(spanElement, h.firstChild);
        }
      })
    </script>
  </body>
</html>
